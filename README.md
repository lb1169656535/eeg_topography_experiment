# EEGè„‘ç”µåœ°å½¢å›¾è¿åŠ¨è½¨è¿¹åˆ†æç³»ç»Ÿ - ç®—æ³•å¯¹æ¯”ç‰ˆ

[![Python](https://img.shields.io/badge/Python-3.8+-blue.svg)](https://python.org)
[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)
[![Status](https://img.shields.io/badge/Status-Active-brightgreen.svg)]()

## ğŸ¯ é¡¹ç›®æ¦‚è¿°

æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªä¸“é—¨ç”¨äºåˆ†æEEGè„‘ç”µåœ°å½¢å›¾ä¸­è¿åŠ¨è½¨è¿¹çš„ç³»ç»Ÿï¼Œ**é‡ç‚¹æ”¯æŒå¤šç§è·Ÿè¸ªç®—æ³•çš„æ€§èƒ½å¯¹æ¯”**ã€‚ç³»ç»Ÿèƒ½å¤Ÿä»EEGæ•°æ®ä¸­æå–é«˜æ¿€æ´»åŒºåŸŸï¼Œè·Ÿè¸ªè¿™äº›åŒºåŸŸéšæ—¶é—´çš„è¿åŠ¨è½¨è¿¹ï¼Œå¹¶æä¾›è¯¦ç»†çš„ç®—æ³•æ€§èƒ½å¯¹æ¯”åˆ†æã€‚

### âœ¨ ä¸»è¦ç‰¹æ€§

- ğŸ”¬ **å¤šç®—æ³•å¯¹æ¯”**: æ”¯æŒ5ç§ä¸åŒçš„è½¨è¿¹è·Ÿè¸ªç®—æ³•å¯¹æ¯”
- ğŸ“Š **å…¨é¢è¯„ä¼°**: 9ä¸ªç»´åº¦çš„æ€§èƒ½è¯„ä¼°æŒ‡æ ‡
- ğŸ® **å¯è§†åŒ–ä¸°å¯Œ**: åœ°å½¢å›¾ã€è½¨è¿¹å›¾ã€å¯¹æ¯”å›¾è¡¨ã€æ€§èƒ½é›·è¾¾å›¾
- ğŸš€ **é«˜æ•ˆå¤„ç†**: æ”¯æŒæ‰¹é‡å¤„ç†12ä¸ªè¢«è¯•æ•°æ®
- ğŸ“ˆ **è¯¦ç»†æŠ¥å‘Š**: è‡ªåŠ¨ç”Ÿæˆç®—æ³•å¯¹æ¯”æŠ¥å‘Šå’Œæ¨èå»ºè®®
- ğŸ”§ **æ¨¡å—åŒ–è®¾è®¡**: æ˜“äºæ‰©å±•æ–°çš„è·Ÿè¸ªç®—æ³•

## ğŸ”§ æ”¯æŒçš„è·Ÿè¸ªç®—æ³•

| ç®—æ³•åç§° | ç±»å‹ | ç‰¹ç‚¹ | é€‚ç”¨åœºæ™¯ |
|---------|------|------|---------|
| **Greedy** | è´ªå©ªåŒ¹é… | å¿«é€Ÿã€å±€éƒ¨æœ€ä¼˜ | å®æ—¶å¤„ç†ã€è®¡ç®—èµ„æºæœ‰é™ |
| **Hungarian** | åŒˆç‰™åˆ©ç®—æ³• | å…¨å±€æœ€ä¼˜ã€é«˜ç²¾åº¦ | ç¦»çº¿åˆ†æã€é«˜ç²¾åº¦è¦æ±‚ |
| **Kalman** | å¡å°”æ›¼é¢„æµ‹ | è¿åŠ¨é¢„æµ‹ã€å¹³æ»‘è·Ÿè¸ª | å¹³æ»‘è¿åŠ¨ã€è¿ç»­è·Ÿè¸ª |
| **Overlap** | é‡å åº¦åŒ¹é… | åŸºäºåŒºåŸŸé‡å  | å½¢çŠ¶å˜åŒ–è¾ƒå°çš„ç›®æ ‡ |
| **Hybrid** | æ··åˆç®—æ³• | ç»¼åˆå¤šç§ç‰¹å¾ | å¤æ‚åœºæ™¯ã€ç»¼åˆæ€§èƒ½ |

## ğŸ“Š è¯„ä¼°æŒ‡æ ‡

ç³»ç»Ÿä»ä»¥ä¸‹9ä¸ªç»´åº¦å…¨é¢è¯„ä¼°ç®—æ³•æ€§èƒ½ï¼š

1. **trajectory_count** - æ£€æµ‹åˆ°çš„è½¨è¿¹æ•°é‡
2. **average_trajectory_length** - å¹³å‡è½¨è¿¹é•¿åº¦
3. **max_trajectory_length** - æœ€å¤§è½¨è¿¹é•¿åº¦
4. **tracking_continuity** - è·Ÿè¸ªè¿ç»­æ€§
5. **trajectory_smoothness** - è½¨è¿¹å¹³æ»‘åº¦
6. **computation_time** - è®¡ç®—æ—¶é—´
7. **memory_usage** - å†…å­˜ä½¿ç”¨
8. **detection_stability** - æ£€æµ‹ç¨³å®šæ€§
9. **trajectory_quality** - ç»¼åˆè½¨è¿¹è´¨é‡

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Python 3.8+
- æ¨èå†…å­˜: 8GB+
- æ¨èå­˜å‚¨: 2GB+ å¯ç”¨ç©ºé—´

### å®‰è£…ä¾èµ–

```bash
# å…‹éš†é¡¹ç›®
git clone <repository-url>
cd eeg-trajectory-analysis

# å®‰è£…ä¾èµ–
pip install -r requirements.txt
```

### æ•°æ®å‡†å¤‡

å°†EEGæ•°æ®æ”¾ç½®åœ¨ä»¥ä¸‹ç»“æ„ä¸­ï¼š
```
data/ds005262/
â”œâ”€â”€ sub-0/
â”‚   â”œâ”€â”€ ses-0/eeg/
â”‚   â”œâ”€â”€ ses-1/eeg/
â”‚   â””â”€â”€ ...
â”œâ”€â”€ sub-1/
â”‚   â””â”€â”€ ...
â””â”€â”€ ...
```

### è¿è¡Œç®—æ³•å¯¹æ¯”å®éªŒ

```bash
# è¿è¡Œå®Œæ•´çš„ç®—æ³•å¯¹æ¯”å®éªŒï¼ˆ12ä¸ªè¢«è¯•ï¼Œ5ç§ç®—æ³•ï¼‰
python main.py

# é™åˆ¶è¢«è¯•æ•°é‡ï¼ˆå¿«é€Ÿæµ‹è¯•ï¼‰
python main.py --subjects 3

# æŒ‡å®šç‰¹å®šç®—æ³•è¿›è¡Œå¯¹æ¯”
python main.py --algorithms greedy hungarian kalman

# ç¦ç”¨ç®—æ³•å¯¹æ¯”ï¼ˆä»…ä½¿ç”¨greedyç®—æ³•ï¼‰
python main.py --disable-comparison
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
eeg-trajectory-analysis/
â”œâ”€â”€ main.py                    # ä¸»ç¨‹åºå…¥å£
â”œâ”€â”€ config.py                  # é…ç½®æ–‡ä»¶
â”œâ”€â”€ requirements.txt           # ä¾èµ–åˆ—è¡¨
â”œâ”€â”€ README.md                  # é¡¹ç›®è¯´æ˜
â”œâ”€â”€ trackers/                  # è·Ÿè¸ªç®—æ³•æ¨¡å—
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ base_tracker.py        # åŸºç¡€è·Ÿè¸ªå™¨ç±»
â”‚   â”œâ”€â”€ greedy_tracker.py      # è´ªå©ªç®—æ³•
â”‚   â”œâ”€â”€ hungarian_tracker.py   # åŒˆç‰™åˆ©ç®—æ³•
â”‚   â””â”€â”€ tracker_factory.py     # è·Ÿè¸ªå™¨å·¥å‚
â”œâ”€â”€ src/                       # æ ¸å¿ƒåˆ†ææ¨¡å—
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ data_loader.py         # æ•°æ®åŠ è½½
â”‚   â”œâ”€â”€ topography.py          # åœ°å½¢å›¾ç”Ÿæˆ
â”‚   â”œâ”€â”€ trajectory_analysis.py # è½¨è¿¹åˆ†æ
â”‚   â””â”€â”€ visualization.py       # å¯è§†åŒ–
â””â”€â”€ results/                   # ç»“æœè¾“å‡ºç›®å½•
    â”œâ”€â”€ topographies/          # åœ°å½¢å›¾
    â”œâ”€â”€ trajectories/          # è½¨è¿¹å›¾
    â”œâ”€â”€ algorithm_comparison/   # ç®—æ³•å¯¹æ¯”ç»“æœ
    â”œâ”€â”€ analysis/              # åˆ†ææŠ¥å‘Š
    â””â”€â”€ videos/                # åŠ¨ç”»æ–‡ä»¶
```

## ğŸ“Š ç»“æœè¾“å‡º

### è‡ªåŠ¨ç”Ÿæˆçš„æ–‡ä»¶

å®éªŒå®Œæˆåï¼Œç³»ç»Ÿä¼šåœ¨ `results/` ç›®å½•ä¸‹ç”Ÿæˆï¼š

#### ğŸ¯ ç®—æ³•å¯¹æ¯”ç»“æœ (`algorithm_comparison/`)
- `comparison_report.txt` - è¯¦ç»†å¯¹æ¯”æŠ¥å‘Š
- `algorithm_performance_comparison.png` - æ€§èƒ½å¯¹æ¯”æŸ±çŠ¶å›¾
- `algorithm_radar_chart.png` - ç®—æ³•ç‰¹å¾é›·è¾¾å›¾
- `algorithm_comparison_results.pkl` - å®Œæ•´ç»“æœæ•°æ®

#### ğŸ“ˆ è½¨è¿¹å¯è§†åŒ– (`trajectories/`)
- `{subject}_{session}_epoch{N}_{algorithm}_trajectories.png` - å„ç®—æ³•è½¨è¿¹å›¾

#### ğŸŒ åœ°å½¢å›¾ (`topographies/`)
- `{subject}_{session}_topo_example.png` - ä»£è¡¨æ€§åœ°å½¢å›¾

#### ğŸ“„ åˆ†ææŠ¥å‘Š (`analysis/`)
- `analysis_report.txt` - è½¨è¿¹ä¸€è‡´æ€§åˆ†æ
- å„ç§ç»Ÿè®¡å›¾è¡¨

## ğŸ“‹ å®éªŒé…ç½®

### ä¸»è¦å‚æ•°é…ç½®

```python
# config.py ä¸­çš„å…³é”®é…ç½®
MAX_SUBJECTS = 12              # å¤„ç†çš„è¢«è¯•æ•°é‡
MAX_EPOCHS_PER_SUBJECT = 3     # æ¯ä¸ªè¢«è¯•çš„epochæ•°é‡
COMPARISON_ALGORITHMS = [      # è¦å¯¹æ¯”çš„ç®—æ³•
    'greedy', 'hungarian', 'kalman', 'overlap', 'hybrid'
]
ENABLE_ALGORITHM_COMPARISON = True  # å¯ç”¨ç®—æ³•å¯¹æ¯”
```

### ç®—æ³•ç‰¹å®šå‚æ•°

æ¯ç§ç®—æ³•éƒ½æœ‰ç‹¬ç«‹çš„å‚æ•°é…ç½®ï¼š

```python
ALGORITHM_CONFIGS = {
    'greedy': {
        'distance_threshold': 25.0,
        'enable_reconnection': True,
        'max_inactive_frames': 25
    },
    'hungarian': {
        'distance_threshold': 25.0,
        'use_weighted_cost': True,
        'cost_threshold': 50.0
    },
    # ... å…¶ä»–ç®—æ³•é…ç½®
}
```

## ğŸ® ä½¿ç”¨ç¤ºä¾‹

### åŸºæœ¬ä½¿ç”¨

```bash
# è¿è¡Œå®Œæ•´å¯¹æ¯”å®éªŒ
python main.py

# æŸ¥çœ‹å¸®åŠ©
python main.py --help
```

### é«˜çº§ä½¿ç”¨

```bash
# å¿«é€Ÿæµ‹è¯•ï¼ˆ3ä¸ªè¢«è¯•ï¼Œ2ä¸ªepochï¼‰
python main.py --subjects 3 --epochs 2

# åªå¯¹æ¯”ç‰¹å®šç®—æ³•
python main.py --algorithms greedy hungarian

# å•ç®—æ³•æ¨¡å¼
python main.py --disable-comparison
```

### ç¨‹åºåŒ–ä½¿ç”¨

```python
from trackers import TrackerFactory
from config import Config

# åˆ›å»ºç‰¹å®šç®—æ³•çš„è·Ÿè¸ªå™¨
tracker = TrackerFactory.create_tracker('hungarian', Config)

# è·å–ç®—æ³•ä¿¡æ¯
info = TrackerFactory.get_algorithm_info('greedy')

# åˆ›å»ºæ‰€æœ‰è·Ÿè¸ªå™¨
all_trackers = TrackerFactory.create_all_trackers(Config)
```

## ğŸ“Š æ€§èƒ½åŸºå‡†

åŸºäºæµ‹è¯•æ•°æ®é›†çš„å…¸å‹æ€§èƒ½è¡¨ç°ï¼š

| ç®—æ³• | å¹³å‡è½¨è¿¹æ•° | å¹³å‡è®¡ç®—æ—¶é—´ | è½¨è¿¹è´¨é‡ | å†…å­˜ä½¿ç”¨ |
|------|-----------|-------------|----------|----------|
| Greedy | 4.2 | 0.15s | 0.72 | ä½ |
| Hungarian | 4.5 | 0.45s | 0.85 | ä¸­ |
| Kalman | 3.8 | 0.25s | 0.78 | ä¸­ |
| Overlap | 3.9 | 0.35s | 0.74 | ä¸­ |
| Hybrid | 4.3 | 0.55s | 0.82 | é«˜ |

*æ³¨ï¼šå…·ä½“æ€§èƒ½å–å†³äºæ•°æ®ç‰¹å¾å’Œç¡¬ä»¶é…ç½®*

## ğŸ”§ æ‰©å±•å¼€å‘

### æ·»åŠ æ–°çš„è·Ÿè¸ªç®—æ³•

1. ç»§æ‰¿ `BaseTracker` ç±»ï¼š

```python
from trackers.base_tracker import BaseTracker

class MyCustomTracker(BaseTracker):
    def __init__(self, config):
        super().__init__(config)
        self.algorithm_name = "my_custom"
        self.description = "æˆ‘çš„è‡ªå®šä¹‰ç®—æ³•"
    
    def match_regions(self, current_regions, distance_threshold=None, frame_idx=0):
        # å®ç°å…·ä½“çš„åŒ¹é…é€»è¾‘
        pass
```

2. æ³¨å†Œåˆ°å·¥å‚ç±»ï¼š

```python
TrackerFactory.register_tracker('my_custom', MyCustomTracker)
```

3. æ·»åŠ åˆ°é…ç½®ä¸­ï¼š

```python
COMPARISON_ALGORITHMS.append('my_custom')
```

### è‡ªå®šä¹‰è¯„ä¼°æŒ‡æ ‡

åœ¨ `BaseTracker.calculate_performance_metrics()` ä¸­æ·»åŠ æ–°çš„æŒ‡æ ‡è®¡ç®—é€»è¾‘ã€‚

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **å†…å­˜ä¸è¶³**
   ```bash
   # å‡å°‘å¤„ç†è§„æ¨¡
   python main.py --subjects 3 --epochs 1
   ```

2. **ç®—æ³•å¤±è´¥**
   - æ£€æŸ¥æ—¥å¿—æ–‡ä»¶äº†è§£å…·ä½“é”™è¯¯
   - å°è¯•ä½¿ç”¨ `--disable-comparison` æ¨¡å¼

3. **æ•°æ®åŠ è½½å¤±è´¥**
   - ç¡®è®¤æ•°æ®è·¯å¾„æ­£ç¡®
   - æ£€æŸ¥æ•°æ®æ ¼å¼æ˜¯å¦æ”¯æŒ

4. **ä¸­æ–‡å­—ä½“æ˜¾ç¤ºé—®é¢˜**
   - ç³»ç»Ÿä¼šè‡ªåŠ¨æ£€æµ‹å¹¶å›é€€åˆ°è‹±æ–‡æ¨¡å¼
   - å¯æ‰‹åŠ¨å®‰è£…ä¸­æ–‡å­—ä½“

### æ—¥å¿—æŸ¥çœ‹

```bash
# æŸ¥çœ‹æœ€æ–°æ—¥å¿—
tail -f logs/experiment_*.log

# æŸ¥çœ‹ç‰¹å®šç®—æ³•çš„æ‰§è¡Œæƒ…å†µ
grep "hungarian" logs/experiment_*.log
```

## ğŸ“ˆ ç»“æœè§£è¯»

### ç®—æ³•å¯¹æ¯”æŠ¥å‘Š

ç³»ç»Ÿä¼šè‡ªåŠ¨ç”Ÿæˆè¯¦ç»†çš„å¯¹æ¯”æŠ¥å‘Šï¼ŒåŒ…æ‹¬ï¼š

- **ç»¼åˆæ€§èƒ½æ’å**: åŸºäºå¤šæŒ‡æ ‡åŠ æƒçš„ç»¼åˆåˆ†æ•°
- **ç‰¹è‰²åˆ†æ**: å„ç®—æ³•åœ¨ç‰¹å®šç»´åº¦çš„è¡¨ç°
- **ä½¿ç”¨å»ºè®®**: é’ˆå¯¹ä¸åŒåº”ç”¨åœºæ™¯çš„ç®—æ³•æ¨è

### å¯è§†åŒ–å›¾è¡¨

- **æ€§èƒ½å¯¹æ¯”æŸ±çŠ¶å›¾**: ç›´è§‚å¯¹æ¯”å„é¡¹æŒ‡æ ‡
- **ç®—æ³•é›·è¾¾å›¾**: å¤šç»´åº¦æ€§èƒ½ç‰¹å¾å±•ç¤º
- **è½¨è¿¹å åŠ å›¾**: ä¸åŒç®—æ³•çš„è½¨è¿¹ç»“æœå¯¹æ¯”

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. Fork é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

### å¼€å‘è§„èŒƒ

- éµå¾ª PEP 8 ä»£ç é£æ ¼
- æ·»åŠ é€‚å½“çš„æ–‡æ¡£å­—ç¬¦ä¸²
- åŒ…å«å¿…è¦çš„æµ‹è¯•ç”¨ä¾‹
- æ›´æ–°ç›¸å…³æ–‡æ¡£

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ“ è”ç³»æˆ‘ä»¬

- é¡¹ç›®ç»´æŠ¤è€…: [å¸…å°æŸ]


## ğŸ™ è‡´è°¢

- MNE-Python å›¢é˜Ÿæä¾›çš„ä¼˜ç§€EEGå¤„ç†åº“
- SciPy ç”Ÿæ€ç³»ç»Ÿçš„å„ä¸ªé¡¹ç›®
- å¼€æºç¤¾åŒºçš„æ”¯æŒå’Œè´¡çŒ®
 
```

---

## ğŸ”® ç‰ˆæœ¬å†å²

### v3.0.0 (2025-08-01) - ç®—æ³•å¯¹æ¯”ç‰ˆ
- âœ¨ æ–°å¢5ç§è·Ÿè¸ªç®—æ³•å¯¹æ¯”åŠŸèƒ½
- ğŸ“Š æ–°å¢9ä¸ªç»´åº¦çš„æ€§èƒ½è¯„ä¼°
- ğŸ¨ é‡æ„ä»£ç æ¶æ„ï¼Œé‡‡ç”¨æ¨¡å—åŒ–è®¾è®¡
- ğŸ“ˆ æ–°å¢ä¸°å¯Œçš„å¯è§†åŒ–å›¾è¡¨
- ğŸ“„ è‡ªåŠ¨ç”Ÿæˆè¯¦ç»†å¯¹æ¯”æŠ¥å‘Š

### v2.0.0 (2025-07-30) - ä¿®å¤ç‰ˆ
- ğŸ”§ ä¿®å¤å­—ä½“æ˜¾ç¤ºé—®é¢˜
- âš¡ ä¼˜åŒ–è½¨è¿¹è·Ÿè¸ªç®—æ³•
- ğŸ› ä¿®å¤å†…å­˜æ³„æ¼é—®é¢˜
- ğŸ“ æ”¹è¿›æ—¥å¿—ç³»ç»Ÿ


---

**ğŸ‰ å¼€å§‹æ‚¨çš„EEGè½¨è¿¹åˆ†æç®—æ³•å¯¹æ¯”ä¹‹æ—…å§ï¼**